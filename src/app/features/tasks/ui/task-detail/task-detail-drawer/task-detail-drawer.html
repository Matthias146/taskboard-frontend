<div class="drawer-backdrop" (click)="onClose()"></div>

<aside class="drawer">
  <header class="drawer__header">
    <div class="drawer__header-content">
      <span class="drawer__subtitle">Task ID: #{{ task()?.id }}</span>
      <h3 class="drawer__title">Details</h3>
    </div>

    <button class="btn-close" (click)="onClose()" title="SchlieÃŸen">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M18 6 6 18" />
        <path d="m6 6 12 12" />
      </svg>
    </button>
  </header>

  <section class="drawer__content">
    @if (mode() === 'view') {
    <app-task-detail-view [task]="task()!" (edit)="startEdit()" />
    } @else {
    <app-task-detail-edit [task]="task()!" (saved)="onSaved($event)" (cancel)="cancelEdit()" />
    }
  </section>
</aside>
